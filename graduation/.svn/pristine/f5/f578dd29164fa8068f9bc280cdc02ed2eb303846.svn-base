package com.mvc.controller;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;

/**
 * 前台控制器
 * @author huangzec@foxmail.com
 *
 */
@Controller
public class SiteController {

	/**
	 * 
	 * 根据用户选择身份进入不同主页 
	 * @Description  
	 * @author Happy_Jqc@163.com
	 * @date 2014-7-21 下午3:58:55
	 * @return ModelAndView
	 */
	@RequestMapping(value="/user/index.do")
	public ModelAndView loginIndex(HttpServletRequest request, HttpServletResponse response){
		Integer userStatus = (Integer) request.getSession().getAttribute("user_status");
		// 如果是学生　进入学生主页
		// 如果是教师　进入教师主页
		System.out.println("start");
		if(userStatus != null && userStatus == 1){ 
			System.out.println("student");
			return new ModelAndView("user/student/index");
		}else{
			System.out.println("teacher");
			return new ModelAndView("user/teacher/index");
		}
	}

}
