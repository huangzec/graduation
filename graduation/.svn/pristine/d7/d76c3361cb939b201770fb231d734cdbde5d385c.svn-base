<%@page language="java" import="java.util.*" pageEncoding="UTF-8"%>
<%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%>
<head>
	<jsp:include page="header.jsp" flush="true" />
	
	<style type="text/css">
	/*topId*/
	.topId { text-decoration: none; color:#8B8970; position: relative; /*这个是关键*/ z-index: 2; }
	
	.topId:hover { z-index: 3; background: none;text-decoration:none; color:#8B8878;cursor:pointer; /*没有这个在IE中不可用*/ }

	.topId table{ display:none;}
	
	.topId:hover table { /*table 标签仅在 :hover 状态时显示*/
		display: block; position: absolute; top: 21px; left: 9px;
		width: 15em; border: 1px solid #DFDFDF; background-color: #E1E1E1;
		padding: 3px; color: black;
	}
	</style>
</head>
<body>
<div class="navbar navbar-fixed-top">
	<jsp:include page="top.jsp" flush="true" />
	<!-- /navbar-inner -->
</div> <!-- /navbar -->
<div id="content">
	<div class="container">
		<div class="row">
			<%if( (Integer) request.getSession().getAttribute("user_status") == 1){ %>
				<jsp:include page="navmenu.jsp" flush="true" />
			<%}else if( (Integer) request.getSession().getAttribute("user_status") == 2){ %>
				<jsp:include page="navmenu_tea.jsp" flush="true"/>
			<%} %>
			<!-- /span3 -->
			<div class="span9">
				<h1 class="page-title">
					<i class="icon-th-list"></i>
					查看课题					
				</h1>
				<div class="widget">
					<div class="widget-content">
						<div id="w_list_print">
							<table class="table_list">
								<thead>
									<tr>
										<th>课题ID</th>
										<th>课题名称</th>
										<th>采用技术</th>
										<th>提交人ID</th>
										<th>状　态</th>
									</tr>
								</thead>
								<tbody>
									<c:forEach items="${topicList}" var="item">
										<tr target="sid_user" rel="${item.topId}">
												<td align="center">
													<a class="topId">${item.topId} 
													<table>
														<tr>
															<th align="center">子课题ID </th>
															<th align="center">子课题名称 </th>
														</tr>
														<c:forEach items="${item.sontopics}" var="sontopic">
															<tr>
																<td align="center"> ${sontopic.stId } </td>
																<td align="center"> ${sontopic.stName }</td>
															</tr>
														</c:forEach></table>
													</a>
												</td>
												<td align="center">${item.topName}</td>
												<td align="center">${item.topTec}</td>
												<td align="center">${item.topCommitId}</td>
												<td align="center"><c:choose>
												<c:when test="${item.topStatus == 0}">
													未审核
												</c:when>
												<c:when test="${item.topStatus == 1}">
													未通过
												</c:when>
												<c:when test="${item.topStatus == 2}">
													通过
												</c:when>
											</c:choose></td>
										</tr>
									</c:forEach>
								</tbody>
							</table>
						</div>
					</div> <!-- /widget-content -->
				</div> <!-- /widget -->
			</div> <!-- /span9 -->
		</div> <!-- /row -->
	</div> <!-- /container -->
</div> <!-- /content -->
<div id="footer">
	<div class="container">				
		<hr />
		<c:import url="footer.jsp" />
	</div> <!-- /container -->
</div> <!-- /footer -->
<!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="<%=basePath %>cscon/js/jquery-1.7.2.min.js"></script>
<script src="<%=basePath %>cscon/js/bootstrap.js"></script>
</body>
</html>