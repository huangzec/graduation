HHJsLib.register({
	init: function() {
		this.bindSuccessbtnClick();
		this.bindInfobtnClick();
	},
	bindPrintbtnClick: function() {
		$("#printbtn").click(function() {
			$("#taskdoc-form")
			.attr("action", siteUrl + "user/taskdoc/preview.do")
			.attr("target", "_blank")
			.submit();
		});
	},
	bindSuccessbtnClick: function() {
		$(".btn-success").click(function() {
			var _root 	= $(this);
			var id 		= _root.parents("tr").children("input[name='id']").val();
			var pass 	= _root.attr("pass");
			if(confirm("чбошод" + _root.text())) {
				$.getJSON(
						siteUrl + 'user/apply/agree.do',
						{id: id, pass: pass},
						function(response) {
							alert(response.message);
							if(response.rs === true) {
								window.location.reload();
							}							
						}
				);
			}
		});
	},
	bindInfobtnClick: function() {
		$(".btn-info").click(function() {
			var _root 	= $(this);
			var type 	= _root.parents("tr").children("input[name='type']").val();
			var userId 	= _root.parents("tr").children("input[name='user_id']").val();
			if(type == 1) {
				window.open(siteUrl + "user/apply/opentopicword.do?userid=" + userId);
			} else if(type == 2){
				window.open(siteUrl + "user/apply/finishtopicword.do?userid=" + userId);
			}
		});
	}
});