<%@page language="java" import="java.util.*" pageEncoding="utf-8"%>
<%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@page import="com.mvc.entity.*, com.mvc.common.*" %>
<%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%>
<%
	Student student 		= (Student) request.getAttribute("student");
	List<Tbclass> tbcList 	= (List<Tbclass>) request.getAttribute("tbclassList");
 %>
<div class="pageContent">
	<form method="post" action="<%=basePath %>admin/student/edit.do" class="pageForm required-validate" onsubmit="return validateCallback(this, navTabAjaxDone);">
		<div class="pageFormContent" layoutH="56">
			<p>
				<label>学号：</label>
				<input name="id" type="text" size="30" value="${student.stuId }" readonly="true" />
			</p>
			<p>
				<label>姓名：</label>
				<input name="name" class="required" type="text" size="30" value="${student.stuName }" />
			</p>
			<div class="divider"></div>
			<p>
				<label>班级：</label>
				<select name="parent_id">
					<% if(null == tbcList || 1 > tbcList.size()) { %>
						<option>-- 请先添加班级 --</option>
					<% 
						} else {
						for(int i = 0; i < tbcList.size(); i ++) {
							Tbclass tbc = tbcList.get(i);
							if(student.getClaId().toString().trim().equals(tbc.getClaId().toString().trim())) 
							{
					 %>
							<option value="<%=tbc.getClaId() %>" selected>-- <%=tbc.getClaName() %> --</option>
							<% } else { %>
							<option value="<%=tbc.getClaId() %>">-- <%=tbc.getClaName() %> --</option>
					<% } } } %>
				</select>
			</p>
			<div class="divider"></div>
			<p>
				<label>性别：</label>
				<% if(student.getStuSex().equals("1")) { %>
					<input type="radio" value="1" name="sex" checked />男
					<input type="radio" value="2" name="sex" />女
				<% } else { %>
					<input type="radio" value="1" name="sex" />男
					<input type="radio" value="2" name="sex" checked />女
				<% } %>
			</p>
			<p>
				<label>电话：</label>
				<input name="phone" class="" type="text" size="30" value="${student.stuTel }" />
			</p>
			<p>
				<label>邮箱：</label>
				<input name="email" class="required email" type="text" size="30" value="${student.stuEmail }" />
			</p>
			<div class="divider"></div>
		</div>
		<div class="formBar">
			<ul>
				<li><div class="buttonActive"><div class="buttonContent"><button type="submit">保存</button></div></div></li>
				<li>
					<div class="button"><div class="buttonContent"><button type="button" class="close">取消</button></div></div>
				</li>
			</ul>
		</div>
	</form>
</div>
